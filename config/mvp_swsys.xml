<?xml version="1.0" encoding="UTF-8" ?>

<swsys>

    <bus name="sens" max_topics="256" eq_channel="1">
        <event_queue size="20" buffer_size="2000"/>
    </bus>    
    
    <bus name="control" max_topics="256" eq_channel="1">
        <event_queue size="20" buffer_size="2000"/>
    </bus>

    <task type="flow" name="sens_flow" config="mvp_flow_sens.xml" priority="5" clk_method="timer" clk_period="1">
        <connect>
            <out alias="ax">itb:/sens/ax</out>
            <out alias="ay">itb:/sens/ay</out>
            <out alias="az">itb:/sens/az</out>
            <out alias="wx">itb:/sens/wx</out>
            <out alias="wy">itb:/sens/wy</out>
            <out alias="wz">itb:/sens/wz</out>
            <out alias="magx">itb:/sens/magx</out>
            <out alias="magy">itb:/sens/magy</out>
            <out alias="magz">itb:/sens/magz</out>
        </connect>
    </task>

    <task type="flow" name="control" config="mvp_flow_control.xml" priority="6" clk_method="timer" clk_period="1">
        <connect>
            <out alias="stub">itb:/control/ax</out>
        </connect>
    </task>

    <service type="eqrb_serial" name="debug">
        <param alias="baudrate">115200</param>
        <param alias="path">/dev/ttyS0</param>
        <param alias="bus">sens</param>
    </service>

</swsys>
